<h2 class="pt-1 pb-2">Agregar nuevo Producto</h2>

<form action="/api/productos/guardar" method="POST" enctype="application/x-www-form-urlencoded" class="needs-validation"
    novalidate>

    <% for (const input of inputInfo) {%>
        <div class="form-group">
            <label for=<%=input.tag %>>
                <%= input.name %>
            </label>
            <input type=<%=input.type %> class="form-control" id=<%=input.tag %> placeholder="Ingresar titulo" name=
                <%=input.tag %> required>
                    <div class="valid-feedback">
                        Genial!
                    </div>
        </div>
        <%}%>
            <button type="submit" class="btn btn-success">Enviar</button>
            <a href="/productos/vista?hola=s2" class="btn btn-success">Ver productos</a>
</form>

<script>
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
</script>